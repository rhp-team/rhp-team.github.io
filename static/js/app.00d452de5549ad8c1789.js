webpackJsonp([17],{"09l6":function(e,n){},NHnr:function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=t("7+uW"),o={render:function(){var e=this.$createElement,n=this._self._c||e;return n("div",{attrs:{id:"app"}},[n("router-view")],1)},staticRenderFns:[]};var i=t("VU/8")({name:"App"},o,!1,function(e){t("09l6")},null,null).exports,s=t("yviF"),a=(t("dih4"),t("/ocq")),u=t("Dd8w"),c=t.n(u),l=t("NYxO"),d=(t("hZls"),t("gRE1")),f=t.n(d);r.a.use(l.a);var h=new l.a.Store({state:{quizLibrary:[],userResults:[],userResult:null,userInfo:null,user:null,waitLoading:!1,error:null},getters:{loadQuizs:function(e){return e.quizLibrary.length<2?e.quizLibrary:e.quizLibrary.sort(function(e,n){return e.createdAt>n.createdAt})},loadQuiz:function(e){return function(n){return e.quizLibrary.find(function(e){return e.id===n})}},loadUserResults:function(e){return e.userResults.reverse()},loadInfoUserResult:function(e){return function(n){return e.userResults.find(function(e){return e.id===n})}},loadUserResult:function(e){return e.userResult},loadUserInfo:function(e){return e.userInfo},user:function(e){return e.user},waitLoading:function(e){return e.waitLoading},error:function(e){return e.error}},mutations:{setLoadQuizs:function(e,n){e.quizLibrary=n},setLoadUserResults:function(e,n){e.userResults=n},createQuiz:function(e,n){e.quizLibrary.push(n)},createUserResult:function(e,n){e.userResult=n},createUserInfo:function(e,n){e.userInfo=n},setUser:function(e,n){e.user=n},setLoading:function(e,n){e.waitLoading=n},setError:function(e,n){e.error=n},clearError:function(e){e.error=null}},actions:{loadQuizsUnRand:function(e){var n=e.commit;n("setLoading",!0),s.database().ref("quizs").once("value").then(function(e){var t=[],r=e.val();for(var o in r)t.push({id:o,question:r[o].question,answers:r[o].answers,createdAt:r[o].createdAt});n("setLoadQuizs",t),n("setLoading",!1)}).catch(function(e){console.log(e),n("setLoading",!0)})},loadUserResults:function(e){var n=e.commit;n("setLoading",!0),s.database().ref("results").once("value").then(function(e){var t=[],r=e.val();for(var o in console.log({obj:r}),r)t.push({id:o,results:r[o].results,userInfo:r[o].userInfo});n("setLoadUserResults",t),n("setLoading",!1)}).catch(function(e){console.log(e),n("setLoading",!0)})},loadQuizs:function(e){var n=e.commit;n("setLoading",!0),s.database().ref("quizs").once("value").then(function(e){var t=[],r=e.val();for(var o in r)t.push({id:o,question:r[o].question,answers:r[o].answers,createdAt:r[o].createdAt});var i=function(e,n){var t=f()(e);if(n=void 0===n||null===n?1:+n,isNaN(n)||n<1||n>t.length)return null;for(var r=t.length-1;r>0;r--){var o=Math.floor(Math.random()*(r+1)),i=t[o];t[o]=t[r],t[r]=i}return 1===n?t[0]:t.slice(0,n)}(t,30);n("setLoadQuizs",i),n("setLoading",!1)}).catch(function(e){console.log(e),n("setLoading",!0)})},createQuiz:function(e,n){var t=e.commit,r={id:Math.random(),question:n.question,answers:n.answers,createdAt:n.createdAt};s.database().ref("quizs").push(r).then(function(e){var n=e.key;t("createQuiz",c()({},r,{id:n}))}).catch(function(e){console.log(e)})},createUserResult:function(e,n){(0,e.commit)("createUserResult",{results:n.results})},createUserInfo:function(e,n){(0,e.commit)("createUserInfo",{nameReal:n.nameReal,nameDiscord:n.nameDiscord,ageReal:n.ageReal,contentSkill:n.contentSkill,contentIdea:n.contentIdea})},createResult:function(e){var n=e.commit,t=e.getters,r={userInfo:t.loadUserInfo,results:t.loadUserResult.results};s.database().ref("results").push(r).then(function(e){var t=e.key;n("createUserResult",c()({},r,{id:t}))}).catch(function(e){console.log(e)})},signUserUp:function(e,n){var t=e.commit;t("setLoading",!0),t("clearError"),s.auth().createUserWithEmailAndPassword(n.email,n.password).then(function(e){t("setLoading",!1);var n={id:e.user.uid};t("setUser",n)}).catch(function(e){t("setLoading",!1),t("setError",e),console.log(e)})},signUserIn:function(e,n){var t=e.commit;t("setLoading",!0),t("clearError"),s.auth().signInWithEmailAndPassword(n.email,n.password).then(function(e){t("setLoading",!1);var n={id:e.user.uid};t("setUser",n)}).catch(function(e){t("setLoading",!1),t("setError",e),console.log(e)})},autoSignIn:function(e,n){(0,e.commit)("setUser",{id:n.uid})},clearError:function(e){(0,e.commit)("clearError")},logout:function(e){var n=e.commit;s.auth().signOut(),n("setUser",null)}}}),m=function(e,n,t){h.getters.user?t():t("/signin")};r.a.use(a.a);var p=new a.a({mode:"history",routes:[{path:"/",name:"home",component:function(){return t.e(3).then(t.bind(null,"KR8f"))}},{path:"/quiz",component:function(){return t.e(14).then(t.bind(null,"ytje"))},children:[{path:"",name:"quiz-home",component:function(){return t.e(1).then(t.bind(null,"m2fO"))}},{path:"start",name:"quiz-start",component:function(){return t.e(11).then(t.bind(null,"l1yf"))}},{path:"who",name:"quiz-who",component:function(){return t.e(8).then(t.bind(null,"NsdU"))}},{path:"make",name:"quiz-make",component:function(){return Promise.all([t.e(0),t.e(10)]).then(t.bind(null,"n3/q"))}},{path:"result",name:"quiz-result",component:function(){return Promise.all([t.e(0),t.e(13)]).then(t.bind(null,"nRr5"))}},{path:"manage",name:"quiz-manage",component:function(){return t.e(12).then(t.bind(null,"PmJq"))},beforeEnter:m},{path:"create",name:"create-quiz",component:function(){return t.e(9).then(t.bind(null,"C0BN"))},beforeEnter:m},{path:"edit",name:"edit-quiz",component:function(){return t.e(2).then(t.bind(null,"uJhw"))},beforeEnter:m},{path:"user-result",name:"user-result",component:function(){return Promise.all([t.e(0),t.e(7)]).then(t.bind(null,"47FS"))},beforeEnter:m},{path:"user-result/:userResultId",name:"info-user-result",props:!0,component:function(){return t.e(6).then(t.bind(null,"FzaC"))},beforeEnter:m},{path:"show",name:"show-quiz",component:function(){return t.e(5).then(t.bind(null,"Y/gM"))},beforeEnter:m},{path:":quizId",name:"info-quiz",props:!0,component:function(){return t.e(4).then(t.bind(null,"s4sZ"))},beforeEnter:m}]},{path:"/signin",name:"sign-in",component:function(){return t.e(15).then(t.bind(null,"IZZu"))}}]}),g={render:function(){var e=this.$createElement,n=this._self._c||e;return n("div",{staticClass:"alert alert-danger"},[this._v("\n  "+this._s(this.text)+"\n  "),n("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"alert","aria-label":"Close"},on:{click:this.onClose}},[n("span",{attrs:{"aria-hidden":"true"}},[this._v("×")])])])},staticRenderFns:[]};var v=t("VU/8")({props:["text"],methods:{onClose:function(){this.$emit("dismissed")}}},g,!1,function(e){t("jjjM")},"data-v-9520798c",null).exports,b={render:function(){this.$createElement;this._self._c;return this._m(0)},staticRenderFns:[function(){var e=this.$createElement,n=this._self._c||e;return n("div",{staticClass:"main"},[n("h1",{staticClass:"t_c"},[this._v("Đang nạp dữ liệu chờ tí nhé, các bạn nhỏ...")])])}]};var z=t("VU/8")({},b,!1,function(e){t("uxwl")},"data-v-84af3d16",null).exports;r.a.config.productionTip=!1,r.a.component("app-alert",v),r.a.component("app-loading",z),new r.a({el:"#app",router:p,store:h,components:{App:i},template:"<App/>",created:function(){var e=this;s.initializeApp({apiKey:"AIzaSyDSuYG7yMcMQGWV4G8t7iYhC8m_KwY-QPg",authDomain:"webrhpinc.firebaseapp.com",databaseURL:"https://webrhpinc.firebaseio.com",projectId:"webrhpinc",storageBucket:"webrhpinc.appspot.com",messagingSenderId:"278950336677"}),s.auth().onAuthStateChanged(function(n){n&&e.$store.dispatch("autoSignIn",n)})}})},jjjM:function(e,n){},uxwl:function(e,n){}},["NHnr"]);
//# sourceMappingURL=app.00d452de5549ad8c1789.js.map