webpackJsonp([14],{NHnr:function(n,e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=t("7+uW"),o={render:function(){var n=this.$createElement,e=this._self._c||n;return e("div",{attrs:{id:"app"}},[e("router-view")],1)},staticRenderFns:[]};var a=t("VU/8")({name:"App"},o,!1,function(n){t("TfoP")},null,null).exports,i=t("yviF"),s=(t("dih4"),t("/ocq")),u=t("Dd8w"),c=t.n(u),l=t("NYxO"),d=(t("hZls"),t("gRE1")),f=t.n(d);r.a.use(l.a);var h=new l.a.Store({state:{quizLibrary:[],userResult:null,userInfo:null,user:null,waitLoading:!1,error:null},getters:{loadQuizs:function(n){return n.quizLibrary.length<2?n.quizLibrary:n.quizLibrary.sort(function(n,e){return n.createdAt>e.createdAt})},loadQuiz:function(n){return function(e){return n.quizLibrary.find(function(n){return n.id===e})}},loadUserResult:function(n){return n.userResult},loadUserInfo:function(n){return n.userInfo},user:function(n){return n.user},waitLoading:function(n){return n.waitLoading},error:function(n){return n.error}},mutations:{setLoadQuizs:function(n,e){n.quizLibrary=e},createQuiz:function(n,e){n.quizLibrary.push(e)},createUserResult:function(n,e){n.userResult=e},createUserInfo:function(n,e){n.userInfo=e},setUser:function(n,e){n.user=e},setLoading:function(n,e){n.waitLoading=e},setError:function(n,e){n.error=e},clearError:function(n){n.error=null}},actions:{loadQuizsUnRand:function(n){var e=n.commit;e("setLoading",!0),i.database().ref("quizs").once("value").then(function(n){var t=[],r=n.val();for(var o in r)t.push({id:o,question:r[o].question,answers:r[o].answers,createdAt:r[o].createdAt});e("setLoadQuizs",t),e("setLoading",!1)}).catch(function(n){console.log(n),e("setLoading",!0)})},loadQuizs:function(n){var e=n.commit;e("setLoading",!0),i.database().ref("quizs").once("value").then(function(n){var t=[],r=n.val();for(var o in r)t.push({id:o,question:r[o].question,answers:r[o].answers,createdAt:r[o].createdAt});var a=function(n,e){var t=f()(n);if(e=void 0===e||null===e?1:+e,isNaN(e)||e<1||e>t.length)return null;for(var r=t.length-1;r>0;r--){var o=Math.floor(Math.random()*(r+1)),a=t[o];t[o]=t[r],t[r]=a}return 1===e?t[0]:t.slice(0,e)}(t,3);e("setLoadQuizs",a),e("setLoading",!1)}).catch(function(n){console.log(n),e("setLoading",!0)})},createQuiz:function(n,e){var t=n.commit,r={id:Math.random(),question:e.question,answers:e.answers,createdAt:e.createdAt};i.database().ref("quizs").push(r).then(function(n){var e=n.key;t("createQuiz",c()({},r,{id:e}))}).catch(function(n){console.log(n)})},createUserResult:function(n,e){(0,n.commit)("createUserResult",{results:e.results})},createUserInfo:function(n,e){(0,n.commit)("createUserInfo",{nameReal:e.nameReal,nameDiscord:e.nameDiscord,ageReal:e.ageReal,contentSkill:e.contentSkill,contentIdea:e.contentIdea})},createResult:function(n){var e=n.commit,t=n.getters,r={userInfo:t.loadUserInfo,results:t.loadUserResult.results};i.database().ref("results").push(r).then(function(n){var t=n.key;e("createUserResult",c()({},r,{id:t}))}).catch(function(n){console.log(n)})},signUserUp:function(n,e){var t=n.commit;t("setLoading",!0),t("clearError"),i.auth().createUserWithEmailAndPassword(e.email,e.password).then(function(n){t("setLoading",!1);var e={id:n.user.uid};t("setUser",e)}).catch(function(n){t("setLoading",!1),t("setError",n),console.log(n)})},signUserIn:function(n,e){var t=n.commit;t("setLoading",!0),t("clearError"),i.auth().signInWithEmailAndPassword(e.email,e.password).then(function(n){t("setLoading",!1);var e={id:n.user.uid};t("setUser",e)}).catch(function(n){t("setLoading",!1),t("setError",n),console.log(n)})},autoSignIn:function(n,e){(0,n.commit)("setUser",{id:e.uid})},clearError:function(n){(0,n.commit)("clearError")},logout:function(n){var e=n.commit;i.auth().signOut(),e("setUser",null)}}}),m=function(n,e,t){h.getters.user?t():t("/signin")};r.a.use(s.a);var p=new s.a({mode:"history",routes:[{path:"/",name:"home",component:function(){return t.e(4).then(t.bind(null,"KR8f"))}},{path:"/quiz",component:function(){return t.e(5).then(t.bind(null,"ytje"))},children:[{path:"",name:"quiz-home",component:function(){return t.e(2).then(t.bind(null,"m2fO"))}},{path:"start",name:"quiz-start",component:function(){return t.e(9).then(t.bind(null,"l1yf"))}},{path:"who",name:"quiz-who",component:function(){return t.e(7).then(t.bind(null,"NsdU"))}},{path:"make",name:"quiz-make",component:function(){return t.e(0).then(t.bind(null,"n3/q"))}},{path:"result",name:"quiz-result",component:function(){return t.e(1).then(t.bind(null,"nRr5"))}},{path:"manage",name:"quiz-manage",component:function(){return t.e(8).then(t.bind(null,"PmJq"))},beforeEnter:m},{path:"create",name:"create-quiz",component:function(){return t.e(10).then(t.bind(null,"C0BN"))},beforeEnter:m},{path:"edit",name:"edit-quiz",component:function(){return t.e(3).then(t.bind(null,"uJhw"))},beforeEnter:m},{path:"show",name:"show-quiz",component:function(){return t.e(6).then(t.bind(null,"Y/gM"))},beforeEnter:m},{path:":quizId",name:"info-quiz",props:!0,component:function(){return t.e(11).then(t.bind(null,"s4sZ"))},beforeEnter:m}]},{path:"/signin",name:"sign-in",component:function(){return t.e(12).then(t.bind(null,"IZZu"))}}]}),g={render:function(){var n=this.$createElement,e=this._self._c||n;return e("div",{staticClass:"alert alert-danger"},[this._v("\n  "+this._s(this.text)+"\n  "),e("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"alert","aria-label":"Close"},on:{click:this.onClose}},[e("span",{attrs:{"aria-hidden":"true"}},[this._v("×")])])])},staticRenderFns:[]};var v=t("VU/8")({props:["text"],methods:{onClose:function(){this.$emit("dismissed")}}},g,!1,function(n){t("jjjM")},"data-v-9520798c",null).exports,b={render:function(){this.$createElement;this._self._c;return this._m(0)},staticRenderFns:[function(){var n=this.$createElement,e=this._self._c||n;return e("div",{staticClass:"main"},[e("h1",{staticClass:"t_c"},[this._v("Đang nạp dữ liệu chờ tí nhé, các bạn nhỏ...")])])}]};var z=t("VU/8")({},b,!1,function(n){t("uxwl")},"data-v-84af3d16",null).exports;r.a.config.productionTip=!1,r.a.component("app-alert",v),r.a.component("app-loading",z),new r.a({el:"#app",router:p,store:h,components:{App:a},template:"<App/>",created:function(){var n=this;i.initializeApp({apiKey:"AIzaSyAAL7YlosaF5PkLFu-bGO57XhHNdBKv2-c",authDomain:"webrhp.firebaseapp.com",databaseURL:"https://webrhp.firebaseio.com",projectId:"webrhp",storageBucket:"webrhp.appspot.com",messagingSenderId:"287565208481"}),i.auth().onAuthStateChanged(function(e){e&&n.$store.dispatch("autoSignIn",e)})}})},TfoP:function(n,e){},jjjM:function(n,e){},uxwl:function(n,e){}},["NHnr"]);
//# sourceMappingURL=app.b364a5cf8410af85ae28.js.map